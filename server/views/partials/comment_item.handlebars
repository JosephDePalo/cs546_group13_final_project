<div class="comment {{#if parent_comment_id}}comment-reply{{/if}}" {{!--To make sure comment and sub-comment have
  different layout--}} data-comment-id="{{id}}">
  <div class="comment-header">
    <span class="comment-username">{{user_id.username}}</span>
  </div>

  <div class="comment-body">
    <p>{{content}}</p>
  </div>

  <div class="comment-footer">
    <small>{{created_at}}</small>

    {{!-- Only logged-in users can reply. --}}
    {{#if user}}
    <button type="button" class="reply-btn" data-parent-id="{{id}}">
      Reply
    </button>
    {{/if}}
  </div>

  {{!-- Sub-comment --}}
  {{#if replies}}
  <div class="comment-replies">
    {{#each replies}}
    {{> comment_item this user=../user}}
    {{/each}}
  </div>
  {{/if}}


  {{!-- delete --}}
  {{#if user}}
  {{#if (eq user.id user_id_str)}}
  <button type="button" class="delete-btn" data-comment-id="{{id}}">
    Delete
  </button>
  {{/if}}
  {{/if}}

  {{#if user}}
    <a href="/report/comment/{{_id}}" class="btn btn-danger">
    Report Comment
    </a>
  {{/if}}

</div>
